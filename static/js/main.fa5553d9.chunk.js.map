{"version":3,"sources":["components/TodoList/TodoList.jsx","api/api.js","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["TodoList","todos","filterTodos","selectTodos","selectUser","className","type","placeholder","onChange","event","target","value","map","todo","classNames","completed","key","id","readOnly","title","onClick","userId","API_URL","getAllTodos","a","fetch","data","json","result","getUser","user","CurrentUser","state","currentUser","loadUser","props","setState","this","clearUser","name","email","phone","React","Component","App","selectedUserId","query","filterOfTodos","filterTodosByTitle","filter","allTodos","queryToFind","toLowerCase","todosToShow","includes","selectedTodosToSHow","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fa5553d9.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './TodoList.scss';\n\nexport const TodoList = ({\n  todos,\n  filterTodos,\n  selectTodos,\n  selectUser,\n}) => (\n\n  <div className=\"TodoList\">\n    <h2>Todos:</h2>\n    <input\n      type=\"text\"\n      className=\"TodoList__search\"\n      placeholder=\"Find todo by title\"\n      onChange={event => filterTodos(event.target.value)}\n    />\n\n    <select\n      className=\"TodoList__select\"\n      onChange={event => selectTodos(event.target.value)}\n    >\n      <option value=\"all\">All todos</option>\n      <option value=\"active\">Active todos</option>\n      <option value=\"completed\">Completed todos</option>\n    </select>\n\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n        {todos.map(todo => (\n          <li\n            className={classNames(\n              'TodoList__item',\n              {\n                'TodoList__item--unchecked': !todo.completed,\n                'TodoList__item--checked': todo.completed,\n              },\n            )}\n            key={todo.id}\n          >\n            <label>\n              <input type=\"checkbox\" readOnly />\n              <p>{todo.title}</p>\n            </label>\n\n            <button\n              className=\"\n                TodoList__user-button\n                TodoList__user-button--selected\n                button\n              \"\n              type=\"button\"\n              onClick={() => selectUser(todo.userId)}\n            >\n              {`User#${todo.userId}`}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n);\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool,\n    }).isRequired,\n  ).isRequired,\n  filterTodos: PropTypes.func.isRequired,\n  selectTodos: PropTypes.func.isRequired,\n  selectUser: PropTypes.func.isRequired,\n};\n","const API_URL = `https://mate-api.herokuapp.com`;\n\nexport const getAllTodos = async() => {\n  const data = await fetch(`${API_URL}/todos`);\n  const result = await data.json();\n\n  return result.data;\n};\n\nexport const getUser = async(userId) => {\n  const user = await fetch(`${API_URL}/users/${userId}`);\n  const result = await user.json();\n\n  return result.data;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    currentUser: {},\n  }\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  componentDidUpdate() {\n    const { currentUser } = this.state;\n\n    if (currentUser.id === this.props.userId) {\n      return;\n    }\n\n    this.loadUser();\n  }\n\n  loadUser = async() => {\n    const user = await getUser(this.props.userId);\n\n    if (!user) {\n      return;\n    }\n\n    this.setState(state => ({ currentUser: user }));\n  };\n\n  render() {\n    const { currentUser } = this.state;\n    const { userId, clearUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>{`Selected user: ${userId}`}</span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">{currentUser.name}</h3>\n        <p className=\"CurrentUser__email\">{currentUser.email}</p>\n        <p className=\"CurrentUser__phone\">{currentUser.phone}</p>\n        <button\n          type=\"button\"\n          className=\"CurrentUser__clear\"\n          onClick={() => clearUser()}\n        >\n          Clear user\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getAllTodos } from './api/api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n    query: '',\n    filterOfTodos: 'all',\n  };\n\n  componentDidMount() {\n    (async() => {\n      const allTodos = await getAllTodos();\n\n      this.setState({ todos: allTodos });\n    })();\n  }\n\n  selectUser = (userId) => {\n    this.setState({ selectedUserId: userId });\n  }\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  }\n\n  filterTodosByTitle = (value) => {\n    this.setState({ query: value });\n  }\n\n  selectTodos = (filter) => {\n    this.setState({ filterOfTodos: filter });\n  }\n\n  render() {\n    const { todos, selectedUserId, query, filterOfTodos } = this.state;\n    const queryToFind = query.toLowerCase();\n    const todosToShow = todos.filter(\n      todo => todo.title && todo.userId\n      && todo.title.toLowerCase().includes(queryToFind),\n    );\n\n    let selectedTodosToSHow = todosToShow;\n\n    if (filterOfTodos === 'completed') {\n      selectedTodosToSHow = todosToShow.filter(todo => todo.completed);\n    } else if (filterOfTodos === 'active') {\n      selectedTodosToSHow = todosToShow.filter(todo => !todo.completed);\n    }\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={selectedTodosToSHow}\n            selectUser={this.selectUser}\n            filterTodos={this.filterTodosByTitle}\n            selectTodos={this.selectTodos}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearUser={this.clearUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}